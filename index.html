<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Nanaueçš„ä¸ªäººåšå®¢</title><meta name="author" content="Nanaue"><meta name="copyright" content="Nanaue"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Nanaueçš„ä¸ªäººåšå®¢">
<meta property="og:url" content="https://nanaue0312.github.io.git/index.html">
<meta property="og:site_name" content="Nanaueçš„ä¸ªäººåšå®¢">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://nanaue0312.github.io.git/img/avatar.jpg">
<meta property="article:author" content="Nanaue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://nanaue0312.github.io.git/img/avatar.jpg"><link rel="shortcut icon" href="/favicon.png"><link rel="canonical" href="https://nanaue0312.github.io.git/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#2d3035","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Nanaueçš„ä¸ªäººåšå®¢',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-12-14 20:36:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Nanaueçš„ä¸ªäººåšå®¢</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Nanaueçš„ä¸ªäººåšå®¢</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Nanaue0312/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1819990134@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/14/Spring%E7%AE%80%E4%BB%8B/" title="Springç®€ä»‹">Springç®€ä»‹</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-13T16:00:00.000Z" title="å‘è¡¨äº 2022-12-14 00:00:00">2022-12-14</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-14T11:27:57.520Z" title="æ›´æ–°äº 2022-12-14 19:27:57">2022-12-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Framework/">Spring Framework</a></span></div><div class="content">Springç®€ä»‹Springæ¦‚è¿°
&#x3D;&#x3D;Spring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§å°±æ˜¯å¯ä»¥ç”¨äºå¼€å‘ä»»ä½•Javaç¨‹åºï¼Œä½†æ˜¯åœ¨JEEå¹³å°ä¸Šæ„å»ºwebåº”ç”¨é•¿é¡»æ˜¯éœ€è¦æ‰©å±•çš„ã€‚&#x3D;&#x3D;

Springå®¶æ—
https://spring.io/projects

Spring Framework
æ‰€æœ‰çš„Springæ¡†æ¶å‡æ˜¯å»ºç«‹åœ¨Spring Frameworkçš„åŸºç¡€ä¸Šçš„ã€‚

ç‰¹æ€§
éä¾µå…¥å¼ï¼šå¯¹åŸç”ŸæŠ€æœ¯å’Œé¢†åŸŸæ¨¡å‹æ˜¯é›¶æ±¡æŸ“ã€‚
æ§åˆ¶åè½¬IOCï¼š&#x3D;&#x3D;åè½¬èµ„æºè·å–æ–¹å‘&#x3D;&#x3D;ï¼Œå°†è‡ªå·±åˆ›å»ºèµ„æºã€åƒç¯å¢ƒç´¢å–èµ„æº -&gt; ç¯å¢ƒå°†èµ„æºå‡†å¤‡å¥½ï¼Œæˆ‘ä»¬äº«å—èµ„æºæ³¨å…¥ï¼ˆé™ä½å¯¹è±¡ä¸å¯¹è±¡çš„ä¾èµ–å…³ç³»ï¼‰ã€‚
é¢å‘åˆ‡é¢AOPï¼š&#x3D;&#x3D;åœ¨ä¸ä¿®æ”¹æºä»£ç çš„åŸºç¡€ä¸Šï¼Œå°†å®¹å™¨å†…å¯¹è±¡æ›¿æ¢æˆä»£ç†ç±»ï¼Œå†å®Œæˆæ³¨å…¥&#x3D;&#x3D; -&gt; å¢å¼ºä»£ç åŠŸèƒ½ã€‚
å®¹å™¨ï¼šSpringIOCæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå› ä¸ºå®ƒ&#x3D;&#x3D;åŒ…å«å¹¶ç®¡ç†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ&#x3D;&#x3D;ã€‚ç»„ä»¶äº«å—åˆ°äº†å®¹å™¨çš„ç®¡ç†ï¼Œ&#x3D;&#x3D;æ›¿ç¨‹åºå‘˜å±è”½äº†ç»„ä»¶åˆ›å»ºè¿‡ç¨‹ä¸­çš„å¤§é‡ç»†èŠ‚&#x3D;&#x ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/14/Spring%E2%80%94IOC/" title="Springâ€”IOC">Springâ€”IOC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-13T16:00:00.000Z" title="å‘è¡¨äº 2022-12-14 00:00:00">2022-12-14</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-14T11:43:58.027Z" title="æ›´æ–°äº 2022-12-14 19:43:58">2022-12-14</time></span></div><div class="content">IOCIOCæ€æƒ³
ä»¥å‰ï¼šä½¿ç”¨ä»€ä¹ˆèµ„æºéœ€è¦è‡ªè¡Œåˆ›å»ºï¼Œåˆ›å»ºçš„ç»†èŠ‚ä¹Ÿéœ€è¦è‡ªå·±äº†è§£ã€‚ ç°åœ¨ï¼šç°åœ¨éœ€è¦ä½¿ç”¨ä»€ä¹ˆèµ„æºï¼Œå£°æ˜ä¸€ä¸‹å³å¯ï¼ŒIOCä¼šè‡ªåŠ¨å‘å£°æ˜ä½ç½®æ³¨å…¥èµ„æºã€‚ï¼ˆå®¹å™¨æ¨é€èµ„æºç»™éœ€è¦çš„ç»„ä»¶ï¼Œæ•´åˆåŒ…é‡Œé¢ä¼šè‡ªåŠ¨æä¾›èµ„æºçš„åˆ›å»ºæ–¹å¼ï¼Œç¨‹åºå‘˜ä¸ç”¨åœ¨å¤„ç†äº†ã€‚ï¼‰


DIï¼šä¾èµ–æ³¨å…¥ã€æ˜¯IOCçš„å¦ä¸€ç§è¡¨è¿°æ–¹å¼ã€æ˜¯IOCçš„å…·ä½“å®ç°ï¼Œæ¯”å¦‚setter æ–¹å¼æ¥å—å®¹å™¨èµ„æºçš„æ³¨å…¥ã€‚

IOCåœ¨Springä¸­çš„å®ç°
æ–¹å¼ä¸€ï¼šBeanFactory ï¼ŒIOCå®¹å™¨çš„åŸºæœ¬å®ç°ï¼Œæ˜¯Springå†…éƒ¨ä½¿ç”¨çš„æ¥å£ã€‚é¢å‘Springæœ¬èº«ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨ã€‚


æ–¹å¼äºŒï¼šApplicationContextï¼ŒBeanFactoryçš„å­æ¥å£ï¼Œæä¾›äº†æ›´å¤šé«˜çº§çš„ç‰¹æ€§ã€‚&#x3D;&#x3D;é¢å‘Springçš„ä½¿ç”¨è€…çš„ï¼Œå‡ ä¹æ‰€æœ‰åœºåˆéƒ½ä½¿ç”¨ApplicationContextï¼Œè€Œä¸æ˜¯åº•å±‚çš„BeanFactory&#x3D;&#x3D;ã€‚ å­ç±» ClassPathXmlApplicationContext ä½¿ç”¨çš„æ˜¯æœ€å¤šçš„ã€‚

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/14/%E5%9F%BA%E4%BA%8EXML%E7%AE%A1%E7%90%86Bean/" title="åŸºäºXMLç®¡ç†Bean(é‡è¦)">åŸºäºXMLç®¡ç†Bean(é‡è¦)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-13T16:00:00.000Z" title="å‘è¡¨äº 2022-12-14 00:00:00">2022-12-14</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-14T12:35:45.322Z" title="æ›´æ–°äº 2022-12-14 20:35:45">2022-12-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Framework/">Spring Framework</a></span></div><div class="content">åŸºäºXMLç®¡ç†Bean(&#x3D;&#x3D;é‡è¦&#x3D;&#x3D;)
ä¾æ—§å¾ˆé‡è¦ï¼Œå› ä¸ºå¯èƒ½ç¬¬ä¸‰æ–¹ç±»åº“æ²¡æœ‰Springæ•´åˆåŒ…ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±æ³¨å…¥ç±»åº“ç»„ä»¶ï¼Œæ³¨è§£æ–¹å¼æ˜¯è¡Œä¸é€šï¼Œå› æ­¤åªèƒ½ä½¿ç”¨XMLçš„æ–¹å¼ã€‚

æ­å»ºé¡¹ç›®

ç®€å•åˆ›å»ºä¸€ä¸ªæ— éª¨æ¶Mavené¡¹ç›®å³å¯
é¡¹ç›®ä¾èµ–


1234567891011121314&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework&lt;/groupId&gt;        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;        &lt;version&gt;5.3.1&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;junit&lt;/groupId&gt;        &lt;artifactId&gt;junit&lt;/artifactId&gt;   ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/14/%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%AE%A1%E7%90%86Bean/" title="åŸºäºæ³¨è§£ç®¡ç†Beanï¼ˆé‡è¦ï¼‰">åŸºäºæ³¨è§£ç®¡ç†Beanï¼ˆé‡è¦ï¼‰</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-13T16:00:00.000Z" title="å‘è¡¨äº 2022-12-14 00:00:00">2022-12-14</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-14T12:12:26.371Z" title="æ›´æ–°äº 2022-12-14 20:12:26">2022-12-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Framework/">Spring Framework</a></span></div><div class="content">åŸºäºæ³¨è§£ç®¡ç†Beanï¼ˆ&#x3D;&#x3D;é‡è¦&#x3D;&#x3D;ï¼‰
æ³¨è§£ï¼ˆæ ‡è®°ï¼‰ + æ‰«æä¼šè‡ªåŠ¨æ³¨å†ŒBeanåˆ°å®¹å™¨ä¸­

æ³¨å†ŒBeançš„æ³¨è§£ï¼ˆå››ä¸ªï¼‰å››ä¸ªæ³¨è§£åŠå…¶å…³ç³»
@Component : å°†ç±»æ ‡è¯†ä¸ºæ™®é€šç»„ä»¶ 
@Controllerï¼šå°†ç±»æ ‡è¯†ä¸ºæ§åˆ¶å±‚ç»„ä»¶ 
@Serviceï¼šå°†ç±»æ ‡è¯†ä¸ºä¸šåŠ¡å±‚ç»„ä»¶ 
@Repository: å°†ç±»æ ‡è¯†ä¸ºæŒä¹…å±‚ç»„ä»¶
 â€¼ï¸ è¿™å››ä¸ªæ³¨è§£åŠŸèƒ½ä¸€æ‘¸ä¸€æ · ï¼Œ åªæ˜¯ç»™å¼€å‘äººå‘˜çœ‹ï¼ˆä»£ç å¯è¯»æ€§ï¼‰ï¼Œè®©å¼€å‘äººå‘˜åŒºåˆ†ç»„ä»¶çš„åŠŸèƒ½ã€‚


å››ä¸ªæ³¨è§£ä¹‹é—´çš„å…³ç³» ï¼šå‡æœ‰ @Component æ‰©å±•å‡ºæ¥

id
idä¸å†™çš„æ—¶å€™é»˜è®¤æ˜¯å°é©¼å³°ï¼Œæ¯”å¦‚ UserController åŠ ä¸Š @Controller æ³¨è§£ä»¥åï¼Œå…¶åœ¨å®¹å™¨çš„idå°±æ˜¯ userControllerã€‚


è‡ªå®šä¹‰idï¼š@Controller(â€œuserControllerâ€)

æ‰«æç»„ä»¶12&lt;!-- ç»„ä»¶æ‰«æé…ç½® --&gt;&lt;context:component-scan base-package=&quot;com.atguigu.spring&quot;&gt;&lt;/context:compo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/13/ResultMap%E7%9A%84%E4%BD%BF%E7%94%A8/" title="resultMapçš„ä½¿ç”¨">resultMapçš„ä½¿ç”¨</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-12T16:00:00.000Z" title="å‘è¡¨äº 2022-12-13 00:00:00">2022-12-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-13T12:18:11.543Z" title="æ›´æ–°äº 2022-12-13 20:18:11">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">resultMapçš„ä½¿ç”¨

å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´(å¯ä»¥å°è¯•åˆ«åå¤„ç†)
ä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šçš„å…³ç³»æŸ¥è¯¢


å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ
æ–¹å¼ä¸€ï¼šæŸ¥è¯¢æ—¶ä½¿ç”¨åˆ«å
æ–¹å¼äºŒï¼šå¼€å¯ä¸‹åˆ’çº¿-&gt;å°é©¼å³°çš„é…ç½®ï¼Œåœ¨mybatis-config.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®

1234&lt;settings&gt;    &lt;!-- ä¸‹åˆ’çº¿ è‡ªåŠ¨æ˜ å°„ é©¼å³° --&gt;    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;


æ–¹å¼ä¸‰ï¼šä½¿ç”¨resultMapï¼Œæ³¨æ„resultMapå’ŒresultTypeæ˜¯äºŒé€‰ä¸€çš„

1Emp getEmpByEmpId(@Param(&quot;empId&quot;) Integer empId);

123456789101112131415161718&lt;mapper namespace=&quot;com.atguigu.mybatis.mapper.EmpMapper&quot;&gt;    &lt;!-- ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/13/%E5%8A%A8%E6%80%81SQL/" title="åŠ¨æ€SQLå’ŒSQLç‰‡æ®µ">åŠ¨æ€SQLå’ŒSQLç‰‡æ®µ</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-12T16:00:00.000Z" title="å‘è¡¨äº 2022-12-13 00:00:00">2022-12-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-13T12:13:12.690Z" title="æ›´æ–°äº 2022-12-13 20:13:12">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">åŠ¨æ€SQL
æ ¹æ®ä¼ å…¥çš„å‚æ•°åŠ¨æ€çš„å†³å®šæœ€åæ‰§è¡Œçš„SQLè¯­å¥

if,é€šè¿‡testå±æ€§ä¸­çš„è¡¨è¾¾å¼uåˆ¤æ–­æ ‡ç­¾ä¸­çš„å†…å®¹æ˜¯å¦æœ‰æ•ˆï¼ˆæ˜¯å¦æ‹¼æ¥åˆ°sqlä¸­ï¼‰
where    a.è‹¥whereæ ‡ç­¾ä¸­æœ‰æ¡ä»¶æˆç«‹ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆwhereå…³é”®å­—    b.ä¼šè‡ªåŠ¨å°†whereæ ‡ç­¾ä¸­å†…å®¹å‰å¤šä½™çš„andå»æ‰(åé¢çš„andæ— æ³•å»æ‰)    c.è‹¥whereä¸­æ²¡æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½
trimprefix,suffix:åœ¨æ ‡ç­¾ä¸­å†…å®¹å‰é¢æˆ–åé¢æ·»åŠ æŒ‡å®šå†…å®¹prefixOverrides,suffixOverrideså»æ‰æ ‡ç­¾ä¸­å‰é¢æˆ–åé¢çš„å†…å®¹
chooseï¼Œwhenï¼Œotherwiseç›¸å½“äºelse if&#x2F;else
foreachcollection:è®¾ç½®å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆitemï¼šæ•°ç»„æˆ–é›†åˆä¸­çš„æ¯ä¸€ä¸ªæ•°æ®separatorï¼šå¾ªç¯åˆ†éš”ç¬¦openï¼šå¾ªç¯çš„æ‰€æœ‰å†…å®¹ä»¥ä»€ä¹ˆå¼€å§‹closeï¼šå¾ªç¯çš„æ‰€æœ‰å†…å®¹ä»¥ä»€ä¹ˆç»“æŸ


if12345678910111213141516&lt;!-- List&lt;Emp&gt; getEmpByCondition(Emp emp); --&gt;&lt;selec ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/13/%E7%BC%93%E5%AD%98%EF%BC%8C%E9%80%86%E5%90%91%E5%92%8C%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6/" title="ç¼“å­˜ï¼Œé€†å‘å’Œåˆ†é¡µæ’ä»¶">ç¼“å­˜ï¼Œé€†å‘å’Œåˆ†é¡µæ’ä»¶</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-12T16:00:00.000Z" title="å‘è¡¨äº 2022-12-13 00:00:00">2022-12-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-13T12:26:23.167Z" title="æ›´æ–°äº 2022-12-13 20:26:23">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">ç¼“å­˜ä¸€çº§ç¼“å­˜
ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ç¼“å­˜ï¼ˆå³åŒä¸€ä¸ªé“¾æ¥ï¼‰ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®å°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®ã€‚


ä»¥ä¸‹å››ç§æƒ…å†µä¼šå¯¼è‡´ä¸€çº§ç¼“å­˜å¤±æ•ˆï¼š

ä¸åŒSqlSessionå¯¹åº”ä¸åŒä¸€çº§ç¼“å­˜ã€‚ï¼ˆå³ä¸åŒSqlSessionï¼Œå³ä½¿æ˜¯ç›¸åŒæŸ¥è¯¢æ¡ä»¶ä¹Ÿæ— ç”¨ï¼‰ã€‚

åŒä¸€ä¸ªSqlSessionä½†æ˜¯æŸ¥è¯¢æ¡ä»¶ä¸åŒã€‚

åŒä¸€ä¸ªSqlSession ä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡é’ˆå¯¹æ­¤è¡¨å¢åˆ æ”¹æ“ä½œã€‚

åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜ã€‚
1sqlSession.clearCache();



äºŒçº§ç¼“å­˜å¼€å¯ï¼ˆå››ä¸ªæ¡ä»¶ï¼‰
SqlSessionFactory çº§åˆ«çš„ï¼Œå¤šä¸ªSqlSessionå¯ä»¥å…±äº«


æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å…¨å±€å±æ€§é…ç½® cacheEnabled&#x3D;â€trueâ€, é»˜è®¤ä¸º trueï¼Œä¸éœ€è¦è®¾ç½®

123&lt;settings&gt;  &lt;setting cacheEnabled=&quot;true&quot;&gt;&lt;/setting&gt;&lt;/settings&gt;


åœ¨ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/12/MyBatis%E7%9A%84%E5%90%84%E7%A7%8D%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD/" title="MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½">MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-11T16:00:00.000Z" title="å‘è¡¨äº 2022-12-12 00:00:00">2022-12-12</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-12T11:46:13.669Z" title="æ›´æ–°äº 2022-12-12 19:46:13">2022-12-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡1234567/*** æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯* @param id* @return*/User getUserById(@Param(&quot;id&quot;) int id);

1234&lt;!--User getUserById(@Param(&quot;id&quot;) int id);--&gt;&lt;select id=&quot;getUserById&quot; resultType=&quot;User&quot;&gt;select * from t_user where id = #&#123;id&#125;&lt;/select&gt;

æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ12345/*** æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯* @return*/List&lt;User&gt; getUserList();

1234&lt;!--List&lt;User&gt; getUserList();--&gt;&lt;select id=&quot;getUserList&quot; resultType=&quot;User&quo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/12/MyBatis%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E5%80%BC%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/" title="MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼">MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-11T16:00:00.000Z" title="å‘è¡¨äº 2022-12-12 00:00:00">2022-12-12</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-12T12:30:12.865Z" title="æ›´æ–°äº 2022-12-12 20:30:12">2022-12-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">
MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š#{}å’Œ${}
${}çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œ#{}çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼,
${}ä½¿ç”¨å­—ç¬¦ä¸²å‡­å€Ÿçš„æ–¹å¼æ‹¼æ¥sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·
#{}ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶å¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·

å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°
è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹
æ­¤æ—¶å¯ä»¥ä½¿ç”¨${}æˆ–#{}ä»¥ä»»æ„åç§°è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·

1public User getUserByUsername(String username);

12345678910&lt;!-- å ä½ç¬¦æ–¹å¼ --&gt;&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;user&quot;&gt;    SELECT * FROM t_user WHERE username = #&#123;username&#125;;&lt;/select&gt;&lt;!-- å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼ --&gt;&lt;select i ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/11/MyBatis%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%92%8C%E7%89%B9%E6%AE%8ASQL/" title="MyBatisçš„å¢åˆ æ”¹æŸ¥å’Œç‰¹æ®ŠSQL">MyBatisçš„å¢åˆ æ”¹æŸ¥å’Œç‰¹æ®ŠSQL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-10T16:00:00.000Z" title="å‘è¡¨äº 2022-12-11 00:00:00">2022-12-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-13T11:28:13.398Z" title="æ›´æ–°äº 2022-12-13 19:28:13">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="content">MyBatisçš„å¢åˆ æ”¹æŸ¥æ–°å¢1234&lt;!--int insertUser();--&gt;&lt;insert id=&quot;insertUser&quot;&gt;insert into t_user values(null,&#x27;admin&#x27;,&#x27;123456&#x27;,23,&#x27;ç”·&#x27;)&lt;/insert&gt;

åˆ é™¤1234&lt;!--int deleteUser();--&gt;&lt;delete id=&quot;deleteUser&quot;&gt;delete from t_user where id = 7&lt;/delete&gt;

ä¿®æ”¹12345&lt;!--int updateUser();--&gt;&lt;update id=&quot;updateUser&quot;&gt;update t_user set username=&#x27;ybc&#x27;,password=&#x27;123&#x27; where id = 6&lt;/update&gt;

æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡123 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Nanaue</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Nanaue0312"><i></i><span>ğŸ›´å‰å¾€å°å®¶...</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Nanaue0312/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1819990134@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>ç½‘ç«™èµ„è®¯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">æ–‡ç« æ•°ç›® :</div><div class="item-count">13</div></div><div class="webinfo-item"><div class="item-name">æœ¬ç«™æ€»å­—æ•° :</div><div class="item-count">12.3k</div></div><div class="webinfo-item"><div class="item-name">æœ¬ç«™è®¿å®¢æ•° :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">æœ¬ç«™æ€»è®¿é—®é‡ :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">æœ€åæ›´æ–°æ—¶é—´ :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-12-14T12:36:19.697Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Nanaue</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["Welcome to FomalhautğŸ¥ã®Tiny Home!ğŸ¤£ğŸ¤£ğŸ¤£","Hope you have a nice day!ğŸ­ğŸ­ğŸ­"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'Welcome to FomalhautğŸ¥ã®Tiny Home!ğŸ¤£ğŸ¤£ğŸ¤£'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><div class="aplayer no-destroy" data-id="7480824757" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-lrctype="0"> </div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.js"></script><!-- hexo injector body_end end --></body></html>